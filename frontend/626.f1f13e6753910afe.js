"use strict";(self.webpackChunkvuathethaoCMS=self.webpackChunkvuathethaoCMS||[]).push([[626],{6626:(k,b,p)=>{p.r(b),p.d(b,{PagesModule:()=>X});var g=p(9808),C=p(7330),t=p(5e3),T=p(2313),S=p(3315),y=p(9850),P=p(4135),Z=p(2340),I=p(2229);let D=(()=>{class o{constructor(e){this._apiService=e}createItemPage(e){return this._apiService.actionPost(`${Z.N.apiUrl}admin/page-item`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(I.Mg))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=p(1580),h=p(3075);function A(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPostItem()}),t._UZ(1,"nb-icon",3),t.qZA()}}function F(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).addPostItem()}),t._UZ(1,"nb-icon",3),t.qZA()}}function O(o,a){if(1&o&&(t.TgZ(0,"nb-option",12),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(null==e?null:e.title)}}function E(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"section")(1,"div",6)(2,"label",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,F,2,0,"button",0),t.TgZ(6,"nb-select",9),t.NdJ("selectedChange",function(i){const c=t.CHM(e).index;return t.oxw(2).changeData(i,c)})("selectedChange",function(i){const c=t.CHM(e).index;return t.oxw(2).for_data[c]=i}),t.TgZ(7,"nb-option",10),t._uU(8,"Ch\u1ecdn B\xe0i Vi\u1ebft"),t.qZA(),t.YNc(9,O,2,2,"nb-option",11),t.qZA()()()()}if(2&o){const e=a.index,n=t.oxw(2);t.xp6(2),t.hYB("for","data_id-",e,"-",null==n.Data?null:n.Data.id,""),t.xp6(1),t.hij(" Ch\u1ecdn B\xe0i Vi\u1ebft S\u1ed1 ",e+1,""),t.xp6(2),t.Q6J("ngIf",e+1===n.for_data.length&&n.max_fields&&n.max_fields>n.for_data.length||!n.max_fields&&e+1===n.for_data.length),t.xp6(1),t.hYB("id","data_id-",e,"-",null==n.Data?null:n.Data.id,""),t.Q6J("selected",n.for_data[e]),t.xp6(3),t.Q6J("ngForOf",n.listPostSelects)}}function Y(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"form",4),t.YNc(2,E,10,8,"section",5),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.for_data)}}let J=(()=>{class o{constructor(e,n,i){this._pageTypeService=e,this._postService=n,this._pageItemService=i,this.for_data=[],this.listPostSelects=[]}ngOnInit(){var e,n,i;console.log("=======",null===(e=this.Data)||void 0===e?void 0:e.category_id,"===="),(null===(n=this.Data)||void 0===n?void 0:n.id)&&(this.Data.category_id?this.getPostByCategoryId(this.Data.category_id):this.getListPostSelect("DEFAULT"),this.getPostByPageType(null===(i=this.Data)||void 0===i?void 0:i.id))}getPostByPageType(e){this._pageTypeService.getListPostByPageType(e).subscribe(n=>{var i,s,c,d;if(n){if(0!==n.max_fields){this.max_fields=n.max_fields;for(let r=0;r<n.max_fields;r++)this.for_data.push((null===(i=n.items[r])||void 0===i?void 0:i.post_id)?null===(s=n.items[r])||void 0===s?void 0:s.post_id.toString():"0")}else for(let r=0;r<n.items.length;r++)this.for_data.push((null===(c=n.items[r])||void 0===c?void 0:c.post_id)?null===(d=n.items[r])||void 0===d?void 0:d.post_id.toString():"0");console.log(this.for_data)}})}getListPostSelect(e){this._postService.getListPosts(null!=e?e:"DEFAULT").subscribe(n=>{n&&(n.map(i=>{i.id=i.id.toString()}),this.listPostSelects=n,console.log(this.listPostSelects))})}changeData(e,n){var i,s;let c=[];this.for_data.map((r,_)=>{var u,m,v,x;return _===n?c.push({order:_+1,post_id:parseInt(e),page_type_id:null===(u=this.Data)||void 0===u?void 0:u.id,page_id:null===(m=this.Data)||void 0===m?void 0:m.page_id}):parseInt(r)&&c.push({order:_+1,post_id:parseInt(r),page_type_id:null===(v=this.Data)||void 0===v?void 0:v.id,page_id:null===(x=this.Data)||void 0===x?void 0:x.page_id}),r});let d=[];this.for_data.map(r=>{d.push("0")}),this._pageItemService.createItemPage({data:c,page_type_id:null===(i=this.Data)||void 0===i?void 0:i.id,page_id:null===(s=this.Data)||void 0===s?void 0:s.page_id}).subscribe(r=>{let _=[];this.for_data.map((u,m)=>{_[m]=u.toString()}),console.log(_),this.for_data=d,setTimeout(()=>{this.for_data=_},1)})}addPostItem(){this.for_data.push("0")}getPostByCategoryId(e){this._postService.getListPostsByCategoryId(e).subscribe(n=>{n.map(i=>{i.id=i.id.toString()}),this.listPostSelects=n})}ngOnDestroy(){this.Data=void 0,this.max_fields=void 0,this.for_data=[],this.listPostSelects=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.L),t.Y36(P.L),t.Y36(D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["post-page-component"]],inputs:{Data:"Data"},decls:6,vars:3,consts:[["nbButton","","shape","round","status","info","style","margin-right: 10px",3,"click",4,"ngIf"],[4,"ngIf"],["nbButton","","shape","round","status","info",2,"margin-right","10px",3,"click"],["icon","plus-outline"],["action",""],[4,"ngFor","ngForOf"],[2,"margin-bottom","20px"],[2,"display","block","margin-bottom","10px",3,"for"],[2,"display","flex"],["placeholder","Select Post","fullWidth","",3,"id","selected","selectedChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card")(1,"nb-card-header"),t._uU(2),t.qZA(),t.TgZ(3,"nb-card-body"),t.YNc(4,A,2,0,"button",0),t.YNc(5,Y,3,1,"ng-container",1),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(null==n.Data?null:n.Data.name),t.xp6(2),t.Q6J("ngIf",!n.for_data.length),t.xp6(1),t.Q6J("ngIf",n.for_data.length))},directives:[l.Asz,l.ndF,l.yKW,g.O5,l.DPz,l.fMN,h._Y,h.JL,h.F,g.sg,l.rs,l.q51],styles:[""]}),o})();var Q=p(6943);function B(o,a){if(1&o&&(t.TgZ(0,"nb-option",6),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",null==e||null==e.id?null:e.id.toString()),t.xp6(1),t.Oqu(null==e?null:e.name)}}let M=(()=>{class o{constructor(e,n){this._categoryService=e,this._pageTypeService=n,this.model="0",this.listCategorySelects=[],this.getData()}ngOnInit(){var e,n,i;this.Data&&(null===(e=this.Data)||void 0===e?void 0:e.category_id)&&(this.model=null===(i=null===(n=this.Data)||void 0===n?void 0:n.category_id)||void 0===i?void 0:i.toString())}changeData(e){var n,i;(null===(n=this.Data)||void 0===n?void 0:n.id)&&this._pageTypeService.updatePageItemCategory(null===(i=this.Data)||void 0===i?void 0:i.id,{category_id:parseInt(this.model)}).subscribe(s=>{console.log(s)})}getData(){this._categoryService.getCategories().subscribe(e=>{this.listCategorySelects=e})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Q.H),t.Y36(y.L))},o.\u0275cmp=t.Xpm({type:o,selectors:[["category-page-component"]],inputs:{Data:"Data"},decls:12,vars:3,consts:[[2,"margin-bottom","20px"],[2,"display","block","margin-bottom","10px"],[2,"display","flex"],["placeholder","Ch\u1ecdn Danh M\u1ee5c","fullWidth","",3,"selected","selectedChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card")(1,"nb-card-header"),t._uU(2),t.qZA(),t.TgZ(3,"nb-card-body")(4,"div",0)(5,"label",1),t._uU(6," Ch\u1ecdn Danh M\u1ee5c "),t.qZA(),t.TgZ(7,"div",2)(8,"nb-select",3),t.NdJ("selectedChange",function(s){return n.changeData(s)})("selectedChange",function(s){return n.model=s}),t.TgZ(9,"nb-option",4),t._uU(10,"Ch\u1ecdn Danh M\u1ee5c"),t.qZA(),t.YNc(11,B,2,2,"nb-option",5),t.qZA()()()()()),2&e&&(t.xp6(2),t.Oqu(null==n.Data?null:n.Data.name),t.xp6(6),t.Q6J("selected",n.model),t.xp6(3),t.Q6J("ngForOf",n.listCategorySelects))},directives:[l.Asz,l.ndF,l.yKW,l.rs,l.q51,g.sg],styles:[""]}),o})();var N=p(8306),L=p(9646);function U(o,a){if(1&o&&(t.TgZ(0,"nb-option",9),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.title)}}function q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"section")(1,"div",3)(2,"label",4),t._uU(3,"Ch\u1ecdn Qu\u1ea3ng C\xe1o"),t.qZA(),t.TgZ(4,"div",5)(5,"nb-select",6),t.NdJ("selectedChange",function(i){const c=t.CHM(e).index;return t.oxw(2).changeData(i,c)})("selectedChange",function(i){const c=t.CHM(e).index;return t.oxw(2).for_data[c]=i}),t.TgZ(6,"nb-option",7),t._uU(7,"Ch\u1ecdn Qu\u1ea3ng C\xe1o"),t.qZA(),t.YNc(8,U,2,2,"nb-option",8),t.ALo(9,"async"),t.qZA()()()()}if(2&o){const e=a.index,n=t.oxw(2);t.xp6(2),t.MGl("for","data_id-",e,""),t.xp6(3),t.MGl("id","data_id-",e,""),t.Q6J("selected",n.for_data[e]),t.xp6(3),t.Q6J("ngForOf",t.lcZ(9,4,n.listPostSelects))}}function w(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"form",1),t.YNc(2,q,10,6,"section",2),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.for_data)}}let z=(()=>{class o{constructor(e,n,i){this._pageTypeService=e,this._postService=n,this._pageItemService=i,this.posts=[],this.for_data=[],this.listPostSelects=new N.y,this.getListPostSelect()}ngOnInit(){var e,n;(null===(e=this.Data)||void 0===e?void 0:e.id)&&this.getPostByPageType(null===(n=this.Data)||void 0===n?void 0:n.id)}getPostByPageType(e){this._pageTypeService.getListPostByPageType(e).subscribe(n=>{var i,s;if(n){if(this.posts=n.items,n.items.length){for(let c=0;c<n.items.length;c++)this.for_data.push((null===(i=n.items[c])||void 0===i?void 0:i.post_id)?null===(s=n.items[c])||void 0===s?void 0:s.post_id.toString():"0");return}this.for_data.push("0")}})}getListPostSelect(){this._postService.getListPosts("ADS").subscribe(e=>{e&&(this.listPostSelects=(0,L.of)(e))})}changeData(e,n){var i,s;let c=[];this.for_data.map((d,r)=>{var _,u,m,v;return r===n?c.push({order:r+1,post_id:parseInt(e),page_type_id:null===(_=this.Data)||void 0===_?void 0:_.id,page_id:null===(u=this.Data)||void 0===u?void 0:u.page_id}):parseInt(d)&&c.push({order:r+1,post_id:parseInt(d),page_type_id:null===(m=this.Data)||void 0===m?void 0:m.id,page_id:null===(v=this.Data)||void 0===v?void 0:v.page_id}),d}),this._pageItemService.createItemPage({data:c,page_type_id:null===(i=this.Data)||void 0===i?void 0:i.id,page_id:null===(s=this.Data)||void 0===s?void 0:s.page_id}).subscribe(d=>{console.log(d)})}addPostItem(){this.for_data.push("0")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.L),t.Y36(P.L),t.Y36(D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["advertisement-page-component"]],inputs:{Data:"Data"},decls:5,vars:2,consts:[[4,"ngIf"],["action",""],[4,"ngFor","ngForOf"],[2,"margin-bottom","20px"],[2,"display","block","margin-bottom","10px",3,"for"],[2,"display","flex"],["placeholder","Select Post","fullWidth","",3,"id","selected","selectedChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"nb-card")(1,"nb-card-header"),t._uU(2),t.qZA(),t.TgZ(3,"nb-card-body"),t.YNc(4,w,3,1,"ng-container",0),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(null==n.Data?null:n.Data.name),t.xp6(2),t.Q6J("ngIf",n.for_data.length))},directives:[l.Asz,l.ndF,l.yKW,g.O5,h._Y,h.JL,h.F,g.sg,l.rs,l.q51],pipes:[g.Ov],styles:[""]}),o})();function R(o,a){if(1&o&&t._UZ(0,"post-page-component",3),2&o){const e=t.oxw().$implicit;t.Q6J("Data",e)}}function H(o,a){if(1&o&&t._UZ(0,"category-page-component",3),2&o){const e=t.oxw().$implicit;t.Q6J("Data",e)}}function $(o,a){if(1&o&&t._UZ(0,"advertisement-page-component",3),2&o){const e=t.oxw().$implicit;t.Q6J("Data",e)}}function W(o,a){if(1&o&&(t.ynx(0),t.YNc(1,R,1,1,"post-page-component",2),t.YNc(2,H,1,1,"category-page-component",2),t.YNc(3,$,1,1,"advertisement-page-component",2),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","POST"===e.type),t.xp6(1),t.Q6J("ngIf","CATEGORY"===e.type),t.xp6(1),t.Q6J("ngIf","ADS"===e.type)}}function j(o,a){if(1&o&&(t.ynx(0),t.YNc(1,W,4,3,"ng-container",1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.page_data.pageTypes)}}let f=(()=>{class o{constructor(e,n,i,s){this._router=e,this._titleService=n,this._activeRouter=i,this._pageServiceService=s,this.page_id=0}ngOnInit(){this._activeRouter.data.subscribe(e=>{this.page_id=e.page_id,this.loadComponentPage(e.page_id)})}loadComponentPage(e){this._pageServiceService.getComponentsPage(e).subscribe(n=>{n&&(this.page_data=n)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.F0),t.Y36(T.Dx),t.Y36(C.gz),t.Y36(S.d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pages"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"Data",4,"ngIf"],[3,"Data"]],template:function(e,n){1&e&&t.YNc(0,j,2,1,"ng-container",0),2&e&&t.Q6J("ngIf",n.page_data&&n.page_data.pageTypes)},directives:[g.O5,g.sg,J,M,z],styles:[""]}),o})();const G=[{path:"home",component:f,data:{page_id:1,title:"Home"}},{path:"e-sport",component:f,data:{page_id:2,title:"E SPORT"}},{path:"game-card",component:f,data:{page_id:3,title:"GAME CARD"}},{path:"deals",component:f,data:{page_id:4,title:"deals"}},{path:"video",component:f,data:{page_id:5,title:"VIDEO"}},{path:"agency",component:f,data:{page_id:6,title:"agency"}},{path:"sport",component:f,data:{page_id:8,title:"SPORT"}}];let K=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.Bz.forChild(G)],C.Bz]}),o})(),X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[g.ez,K,l.zyh,l.IIj,h.u5,l.KdK,l.T2N,l.j7H.forRoot()]]}),o})()}}]);